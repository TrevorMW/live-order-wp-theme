"use strict";(self.webpackChunkbasicwptheme=self.webpackChunkbasicwptheme||[]).push([[542],{877:(e,t,r)=>{r.d(t,{E:()=>n});const n=(0,r(774).nY)("panelStore",{state:()=>({content:{data:"",title:"",container:null},flags:{isOpen:!1,isContentLoaded:!1}}),actions:{openPanel:function(e){this.$patch({content:{data:e},flags:{isOpen:!0}}),this.setPanelContent()},closePanel:function(){const e=this,t=e.content.container;e.content.data.unmount(t),e.$patch({content:{data:""},flags:{isOpen:!1,isContentLoaded:!1}})},setPanelContent:function(){const e=this,t=e.content.container;e.content.data.mount(t),setTimeout((()=>{e.$patch({flags:{isContentLoaded:!0}})}),1e3)},setContentContainerRef:function(e){this.$patch({content:{container:e}})},setPanelTitle:function(e){this.$patch({content:{title:e}})}}})},688:(e,t,r)=>{r.d(t,{$:()=>i});var n=r(774),s=r(714),a=r(911);const i=(0,n.nY)("restaurantStore",{state:()=>({loaded:!1,restaurant:{oauth:{isConnected:!1,link:null,expiration:null,scopes:[]},jobTypes:null}}),actions:{loadRestaurantData:async function(e){this.loaded=!1;const t=core.ajaxUrl,r=new FormData;return r.append("action",core.endpoints.load_restaurant_data.action),r.append("nonce",core.endpoints.load_restaurant_data.nonce),e&&r.append("id",e),await s.A.post(t,r).then((e=>(200===e.status&&e.data&&(this.restaurant=e.data.restaurant,this.loaded=!0),e)))},saveRestaurantSettings:async function(e){const t=(0,a.E)();return t.hideNotice(),await s.A.post(core.ajaxUrl,e).then((e=>(t.showNotice(e.data.message,e.data.success),e)))},updateEmployeeData:async function(e){const t=(0,a.E)();return t.hideNotice(),await s.A.post(core.ajaxUrl,e).then((e=>(t.showNotice(e.data.message,e.data.status),e)))},reauthorizeOauth:async function(e){const t=(0,a.E)();return t.hideNotice(),await s.A.post(core.ajaxUrl,e).then((e=>(t.showNotice(e.data.message,e.data.status),e)))},disconnectOauth:async function(e){const t=(0,a.E)();return t.hideNotice(),await s.A.post(core.ajaxUrl,e).then((e=>(t.showNotice(e.data.message,e.data.status),e)))},deleteRestaurant:async function(e){const t=(0,a.E)();return t.hideNotice(),await s.A.post(core.ajaxUrl,e).then((e=>(t.showNotice(e.data.message),e)))}}})},824:(e,t,r)=>{r.d(t,{A:()=>u});var n=r(641),s=r(33),a=r(751);const i={class:"noItemsFound container"},o={key:0,class:"noItemsIcon"},l={class:"material-symbols-outlined"},d={key:1,class:"noItemsMessage"},c={name:"NoItems",props:{icon:{type:String,required:!1,default:null},message:{type:String,required:!1,default:null},action:{type:String,required:!1,default:null},actionMessage:{type:String,required:!1,default:null}}},u=(0,r(262).A)(c,[["render",function(e,t,r,c,u,p){return(0,n.uX)(),(0,n.CE)("div",i,[r.icon?((0,n.uX)(),(0,n.CE)("div",o,[(0,n.Lk)("span",l,(0,s.v_)(r.icon),1)])):(0,n.Q3)("v-if",!0),r.message?((0,n.uX)(),(0,n.CE)("div",d,[(0,n.Lk)("p",null,(0,s.v_)(r.message),1)])):(0,n.Q3)("v-if",!0),r.action&&r.actionMessage?((0,n.uX)(),(0,n.CE)("button",{key:2,class:"btn btn-tertiary",onClick:t[0]||(t[0]=(0,a.D$)((t=>e.$emit(this.action)),["prevent"]))},(0,s.v_)(r.actionMessage),1)):(0,n.Q3)("v-if",!0)])}]])},542:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Ke});var n=r(641),s=r(33),a=r(751);const i={key:0,class:"disallowed"},o={key:1},l={class:"pageHeader orderDashboardHeader"},d={class:"lastUpdated"},c=[(0,n.Lk)("span",{class:"material-symbols-outlined"},"tune",-1)],u={class:"container flexed"},p=(0,n.Lk)("h4",null,"Filter By:",-1),h={class:""},f=(0,n.Lk)("h4",null,"Type:",-1),v={class:""},m=(0,n.Lk)("h4",null,"Status:",-1),k=(0,n.Lk)("div",{class:""},[(0,n.Lk)("h4",null,"Source:")],-1),y={key:0},L=(0,n.Lk)("div",{class:"orderFilters"},[(0,n.Q3)(' <div class="utilityBar flex">\n                <div class="filterList">\n                    <form data-filter-form>\n                        <ul>\n                            <FilterGroup v-for="(filterDef, key) in this.filterDefs" :title="filterDef.name">\n                                <ul>\n                                    <Filter v-for="filterChoice in filterDef.values" :type="filterDef.type"\n                                        :filter="filterChoice" :filterID="key" />\n                                </ul>\n                            </FilterGroup>\n                        </ul>\n                    </form>\n                </div>\n            </div> ')],-1),g={key:0,class:"orderListWrapper"},C={class:"orderListColumns"},D={class:"orderList ordersProposed"},w=(0,n.Lk)("h3",null,"New",-1),b={class:"orderList ordersReserved"},O=(0,n.Lk)("h3",null,"In Progress",-1),E={class:"orderList ordersPrepared"},A=(0,n.Lk)("h3",null,"Ready",-1);var S=r(774),P=r(627),X=r(352),F=r(688),I=r(824);const _={key:0,class:"filterLabels"},M={class:"filterLabel"},x=["onClick"],R={class:"filterLabelText"},$={class:"filterLabelCount"},U={name:"FilterCount",props:{count:{type:Number,required:!0,default:0}},computed:{...(0,S.aH)(P.S,{filters:e=>e.filters})}};var N=r(262);const q=(0,N.A)(U,[["render",function(e,t,r,n,a,i){return(0,s.v_)(r.count)}]]);var T=r(47);const Q={name:"Filters",components:{FilterCount:q,GlobalLoader:T.A},mounted(){(0,P.S)()},computed:{...(0,S.aH)(P.S,{filters:e=>e.filters,initialLoad:e=>e.initialLoad})}},V=(0,N.A)(Q,[["render",function(e,t,r,i,o,l){const d=(0,n.g2)("FilterCount"),c=(0,n.g2)("GlobalLoader");return this.initialLoad?((0,n.uX)(),(0,n.CE)("ul",_,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(this.filters,((t,r)=>((0,n.uX)(),(0,n.CE)("li",M,[(0,n.Lk)("a",{href:"#",onClick:(0,a.D$)((t=>e.filterOrders(r)),["prevent"])},[(0,n.Lk)("span",R,(0,s.v_)(t.name),1),(0,n.Lk)("span",$,[(0,n.Lk)("span",null,[(0,n.bF)(d,{count:t.value},null,8,["count"])])])],8,x)])))),256))])):((0,n.uX)(),(0,n.Wv)(c,{key:1}))}]]),H={class:""},z=["id"];r(877);const j={class:"noOrdersFound"},W=(0,n.Lk)("span",{class:"material-symbols-outlined"},"receipt_long",-1),G=["innerHTML"],B={name:"NoOrdersFound",props:{type:{type:String,required:!1}},computed:{notFoundText:function(){let e="No orders found.";return this.type&&(e='No orders of type "'+this.type+'" found.'),e}}},K=(0,N.A)(B,[["render",function(e,t,r,s,a,i){return(0,n.uX)(),(0,n.CE)("div",j,[W,(0,n.Lk)("p",{innerHTML:i.notFoundText},null,8,G)])}]]),Z={key:0,class:"olicCompany"},Y={class:"olicUserDetails"},J={class:"olicTimeTillReady"},ee={key:0},te={class:"sourceLogo"},re={key:0,"aria-labeledby":"square-logo-title square-logo-desc",class:"reset",role:"img",viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg"},ne=[(0,n.Lk)("title",{id:"square-logo-title"},"Square",-1),(0,n.Lk)("desc",{id:"square-logo-desc"},"Accept Credit Cards From An iPhone, Android or iPad - Square",-1),(0,n.Lk)("path",{d:"M36.65 0h-29.296c-4.061 0-7.354 3.292-7.354 7.354v29.296c0 4.062 3.293 7.354 7.354 7.354h29.296c4.062 0 7.354-3.292 7.354-7.354v-29.296c.001-4.062-3.291-7.354-7.354-7.354zm-.646 33.685c0 1.282-1.039 2.32-2.32 2.32h-23.359c-1.282 0-2.321-1.038-2.321-2.32v-23.36c0-1.282 1.039-2.321 2.321-2.321h23.359c1.281 0 2.32 1.039 2.32 2.321v23.36z",role:"presentation"},null,-1),(0,n.Lk)("path",{d:"M17.333 28.003c-.736 0-1.332-.6-1.332-1.339v-9.324c0-.739.596-1.339 1.332-1.339h9.338c.738 0 1.332.6 1.332 1.339v9.324c0 .739-.594 1.339-1.332 1.339h-9.338z",role:"presentation"},null,-1)],se={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 44 44"},ae=[(0,n.Lk)("path",{fill:"#37474f",d:"M13.083,42h21.834C38.829,42,42,38.829,42,34.917V13.083C42,9.171,38.829,6,34.917,6H13.083 C9.171,6,6,9.171,6,13.083v21.834C6,38.829,9.171,42,13.083,42z"},null,-1),(0,n.Lk)("path",{fill:"#fff",d:"M35.517,18.162c-0.757,0-1.294,0.593-1.294,1.502V23h-1.156v-5.873h1.142v0.717 c0.287-0.484,0.814-0.774,1.376-0.759H36v1.076L35.517,18.162z M32.268,20.064c0-1.751-1.246-3.061-2.932-3.061 c-1.669,0.011-3.013,1.374-3.002,3.043c0,0.006,0,0.012,0,0.018c0,1.75,1.35,3.073,3.111,3.073c0.998,0.019,1.943-0.449,2.533-1.254 l-0.839-0.615c-0.391,0.545-1.024,0.864-1.695,0.854c-0.972-0.005-1.796-0.719-1.938-1.681h4.764L32.268,20.064z M27.532,19.525 c0.206-0.896,0.922-1.502,1.79-1.502s1.582,0.606,1.776,1.502H27.532z M22.672,17.003c-0.78,0.001-1.528,0.313-2.077,0.868V15H19.44 v8h1.142v-0.745c0.553,0.56,1.306,0.877,2.093,0.882c1.694,0.036,3.096-1.308,3.132-3.002c0.036-1.694-1.308-3.096-3.002-3.132 c-0.043-0.001-0.087-0.001-0.13,0H22.672z M22.589,22.104c-1.123,0.005-2.038-0.901-2.043-2.024 c-0.005-1.123,0.901-2.038,2.024-2.043c1.123-0.005,2.038,0.901,2.043,2.024c0,0.006,0,0.011,0,0.017 c0.002,1.115-0.901,2.02-2.016,2.021c-0.003,0-0.006,0-0.008,0V22.104z M15.183,22.049c1.116,0,1.982-0.856,1.982-2.138V15h1.198v8 h-1.184v-0.763c-0.559,0.578-1.33,0.901-2.133,0.896c-1.721,0-3.046-1.254-3.046-3.156V15h1.22v4.918 C13.22,21.207,14.05,22.049,15.183,22.049z"},null,-1),(0,n.Lk)("path",{fill:"#66bb6a",d:"M12.126,25h5.608v1.372h-4.093v1.949h3.979v1.326h-3.979v1.981h4.093V33h-5.608V25z M33.177,33.124 c1.714,0,2.68-0.821,2.68-1.948c0-0.803-0.572-1.402-1.769-1.662l-1.266-0.259c-0.735-0.137-0.966-0.274-0.966-0.547 c0-0.354,0.354-0.572,1.007-0.572c0.707,0,1.231,0.19,1.368,0.844h1.483c-0.081-1.231-0.966-2.044-2.761-2.044 c-1.551,0-2.64,0.64-2.64,1.881c0,0.858,0.599,1.416,1.892,1.688l1.415,0.327c0.558,0.109,0.707,0.26,0.707,0.491 c0,0.368-0.421,0.599-1.103,0.599c-0.856,0-1.346-0.19-1.536-0.844h-1.491C30.414,32.308,31.326,33.124,33.177,33.124z M29.766,31.667h-1.115c-0.341,0-0.558-0.15-0.558-0.464v-2.779h1.673V27.09h-1.673v-1.676h-1.491v1.676h-1.134v1.335h1.129v3.161 c0,0.791,0.558,1.417,1.565,1.417h1.605L29.766,31.667z M24.823,27.09V33h-1.487v-0.56c-0.525,0.444-1.191,0.687-1.878,0.684 c-0.043,0.001-0.087,0.001-0.13,0c-1.708-0.036-3.064-1.45-3.028-3.158c0.036-1.708,1.45-3.064,3.158-3.028 c0.688-0.002,1.353,0.24,1.878,0.684V27.09L24.823,27.09z M21.578,31.83c0.006,0,0.013,0,0.019,0 c0.982-0.009,1.771-0.813,1.762-1.795c0-0.007,0-0.015,0-0.022c-0.011-0.994-0.826-1.79-1.819-1.778 c-0.994,0.011-1.79,0.826-1.778,1.819c0.011,0.994,0.826,1.79,1.819,1.778L21.578,31.83z"},null,-1)],ie={key:2,style:{color:"#ed220e",fill:"#ed220e",stroke:"#ed220e"},width:"44px",height:"44px",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},oe=[(0,n.Lk)("defs",null,null,-1),(0,n.Lk)("path",{class:"a",d:"M32.4813,35.0374l-6.9545.0158-7.8326-8.3746,15.0819-.0769a2.659,2.659,0,0,0,2.6456-2.659h0a2.6591,2.6591,0,0,0-2.671-2.659l-19.51.0874L4.5,12.9468l27.9576.0033A11.0436,11.0436,0,0,1,43.5,23.9938h0A11.0436,11.0436,0,0,1,32.4813,35.0374Z"},null,-1)],le={name:"SourceLogo",props:{source:{type:String,required:!0}}},de=(0,N.A)(le,[["render",function(e,t,r,s,a,i){return(0,n.uX)(),(0,n.CE)("div",te,["Square Online"===r.source?((0,n.uX)(),(0,n.CE)("svg",re,ne)):(0,n.Q3)("v-if",!0),"UberEats"===r.source?((0,n.uX)(),(0,n.CE)("svg",se,ae)):(0,n.Q3)("v-if",!0),"DoorDash"===r.source?((0,n.uX)(),(0,n.CE)("svg",ie,oe)):(0,n.Q3)("v-if",!0)])}]]),ce={class:"timeTillReady"},ue={name:"TimeTillReady",components:{},props:{min:{type:String,required:!0}},computed:{}},pe=(0,N.A)(ue,[["render",function(e,t,r,a,i,o){return(0,n.uX)(),(0,n.CE)("div",ce,(0,s.v_)(r.min),1)}]]),he={key:0},fe={key:1},ve={name:"UserDetails",components:{},props:{order:{type:Object,required:!0}},computed:{orderUserDetails:function(){let e="";const t=this.order.fulfillments;if(t&&t.length>=1){const r=t[0];if("PICKUP"===r.type){const t=r.pickup_details.recipient;if(null!==t){const r=t.display_name,n=t.phone_number;e+=r!==n?"<p>"+r+"</p>":"<p>"+helpers.formatPhoneNumber(n)+"</p>"}}if("DELIVERY"===r.type){const t=r.delivery_details.recipient;if(null!==t){const r=t.display_name,n=t.phone_number;e+=r!==n?"<p>"+r+"</p>":"<p>"+helpers.formatPhoneNumber(n)+"</p>"}}e+="<small>"+this.order.source.name+"</small>"}return e}}},me=(0,N.A)(ve,[["render",function(e,t,r,a,i,o){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("p",null,(0,s.v_)(r.order.ticketName),1),(0,n.Lk)("p",null,(0,s.v_)(r.order.user.phone),1),this.order.isPickup?((0,n.uX)(),(0,n.CE)("div",he,[(0,n.Lk)("small",null,"Pickup at: "+(0,s.v_)(this.order.pickupAt),1)])):(0,n.Q3)("v-if",!0),this.order.isDelivery?((0,n.uX)(),(0,n.CE)("div",fe,[(0,n.Lk)("small",null,"Delivery expected by: "+(0,s.v_)(this.order.deliverAt),1)])):(0,n.Q3)("v-if",!0)],64)}]]),ke=function(e,t="-"){var r="/^\\"+t+"/",n="/\\"+t+"$/";return(e=(e=(e=e.replace(/[^a-zA-Z0-9]+/g,t)).replace(/-+/g,t)).replace(r,"").replace(n,"")).toLowerCase()},ye={name:"Badge",props:{text:{type:String,required:!0}},computed:{getBadgeClasses:function(){let e=[];return this.text&&(e.push("badge"),e.push("badge-"+ke(this.text).toLowerCase())),e.join(" ")}}},Le=(0,N.A)(ye,[["render",function(e,t,r,a,i,o){return(0,n.uX)(),(0,n.CE)("span",{class:(0,s.C4)(o.getBadgeClasses)},(0,s.v_)(r.text),3)}]]),ge={name:"Status",components:{Badge:Le},props:{order:{type:Object,required:!0}},methods:{getStatusHTML:function(e){return`<span class="status status-${ke(e)}">${e}</span>`}},computed:{orderStatus:function(){return this.order.isUpcoming?"Upcoming":this.order.isCompleted?"Completed":this.order.isNew?"New":this.order.isReady?"Ready":this.order.isInProgress?"In Progress":"COMPLETED"===this.order.state?"Completed":void 0}}},Ce={name:"OrderCard",components:{SourceLogo:de,TimeTillReady:pe,UserDetails:me,Status:(0,N.A)(ge,[["render",function(e,t,r,s,a,i){const o=(0,n.g2)("Badge");return(0,n.uX)(),(0,n.Wv)(o,{text:i.orderStatus},null,8,["text"])}]])},emits:["viewOrderDetails"],data:()=>({}),props:{order:{type:Object,required:!0,default:()=>{}}},methods:{}},De=(0,N.A)(Ce,[["render",function(e,t,r,i,o,l){const d=(0,n.g2)("SourceLogo"),c=(0,n.g2)("UserDetails");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Q3)(' <pre style="font-size:8px;">{{ this.order }}</pre> '),(0,n.Lk)("a",{class:"orderPillbox",href:"",onClick:t[0]||(t[0]=(0,a.D$)((e=>this.$emit("viewOrderDetails",{order:r.order})),["prevent"]))},[r.order.source?((0,n.uX)(),(0,n.CE)("div",Z,[(0,n.bF)(d,{source:r.order.source},null,8,["source"])])):(0,n.Q3)("v-if",!0),(0,n.Lk)("div",Y,[(0,n.bF)(c,{order:r.order},null,8,["order"])]),(0,n.Lk)("div",J,[(0,n.Lk)("strong",null,(0,s.v_)(this.order.timeTillReady),1),this.order.timeTillReady>0?((0,n.uX)(),(0,n.CE)("small",ee,"min")):(0,n.Q3)("v-if",!0)]),(0,n.Q3)(' <div class="olicUserDetails">\n        <UserDetails :order="order" />\n      </div>\n      \n      <div class="olicStatus">\n        <Status :order="order" />\n      </div> '),(0,n.Q3)(' <div v-if="order.source" class="olicUserDetails">\n        <UserDetails :order="order" />\n      </div>\n      <div v-else class="olicUserDetails">\n        {{ order.id }}\n      </div>\n      <div class="olicPickupDetails">\n\n      </div>\n      <div class="olicStatus">\n        <Status :order="this.order" />\n      </div>\n  \n      <pre style="font-size:7px;">{{ order }}</pre>\n      <div class="olicUserDetails">\n        <UserDetails :order="order" />\n      </div>\n      <div class="olicPickupDetails">\n      </div>\n      <div class="olicStatus">\n        <Status :order="this.order" />\n      </div> ')])])}]]),we=[(0,n.Lk)("span",{class:"material-symbols-outlined"},"more_vert",-1)];var be=r(766);const Oe=(0,n.Lk)("p",null,"Mark order as...",-1),Ee=(0,n.Lk)("hr",null,null,-1),Ae=(0,n.Lk)("br",null,null,-1),Se={name:"OrderActionList",props:{order:{type:Object,required:!0}},methods:{markOrderAs:function(e,t,r){(0,P.S)().markOrderAs(e,t,r,(function(e){(0,be.Z)().closeModal()}))}},computed:{fulfillmentUID:function(){return this.order.fulfillments[0].uid},canMarkInProgress:function(){let e=!0;return function(e){let t=!1;return e.hasOwnProperty("state")&&"OPEN"===e.state&&"PROPOSED"===e.fulfillments[0].state&&(t=!0),t}(this.order)||(e=!1),e},canMarkReady:function(){let e=!0;return function(e){let t=!1;return e.hasOwnProperty("state")&&"OPEN"===e.state&&"RESERVED"===e.fulfillments[0].state&&(t=!0),t}(this.order)||(e=!1),e},canMarkComplete:function(){let e=!0;return function(e){let t=!1;return e.hasOwnProperty("state")&&"OPEN"===e.state&&"PREPARED"===e.fulfillments[0].state&&(t=!0),t}(this.order)||(e=!1),e}}},Pe=(0,N.A)(Se,[["render",function(e,t,r,s,i,o){return(0,n.uX)(),(0,n.CE)(n.FK,null,[Oe,Ee,Ae,o.canMarkInProgress?((0,n.uX)(),(0,n.CE)("a",{key:0,href:"#",onClick:t[0]||(t[0]=(0,a.D$)((e=>o.markOrderAs(this.order,"IN-PROGRESS",o.fulfillmentUID)),["prevent"])),class:"btn btn-primary btn-full"},"In Progress")):(0,n.Q3)("v-if",!0),o.canMarkReady||o.canMarkInProgress?((0,n.uX)(),(0,n.CE)("a",{key:1,href:"#",onClick:t[1]||(t[1]=(0,a.D$)((e=>o.markOrderAs(this.order,"READY",o.fulfillmentUID)),["prevent"])),class:"btn btn-primary btn-full"},"Ready")):(0,n.Q3)("v-if",!0),o.canMarkComplete||o.canMarkReady||o.canMarkInProgress?((0,n.uX)(),(0,n.CE)("a",{key:2,href:"#",onClick:t[2]||(t[2]=(0,a.D$)((e=>o.markOrderAs(this.order,"COMPLETED",o.fulfillmentUID)),["prevent"])),class:"btn btn-primary btn-full"},"Picked Up")):(0,n.Q3)("v-if",!0)],64)}]]),Xe={name:"OrderActions",components:{OrderActionList:Pe},props:{order:{type:Object,required:!0}},methods:{showOrderActions:function(e){(0,P.S)().getOrder(e.id,(function(){const t=(0,be.Z)(),r=(0,a.Ef)({extends:Pe},{order:e});t.openModal(r)}))}},computed:{...(0,S.aH)(be.Z,{})}},Fe=(0,N.A)(Xe,[["render",function(e,t,r,s,i,o){return(0,n.uX)(),(0,n.CE)("a",{href:"#",onClick:t[0]||(t[0]=(0,a.D$)((e=>o.showOrderActions(this.order)),["prevent"]))},we)}]]),Ie=((0,S.aH)(P.S,{}),{name:"OrdersList",components:{GlobalLoader:T.A,NoOrdersFound:K,OrderCard:De},props:{orders:{type:Array,required:!0,default:()=>{}}},computed:{...(0,S.aH)(P.S,{})},methods:{viewOrderDetails(e){this.$emit("viewOrderDetails",{order:e.order})}}}),_e=(0,N.A)(Ie,[["render",function(e,t,r,a,i,o){const l=(0,n.g2)("OrderCard");return(0,n.uX)(),(0,n.CE)("ul",H,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.orders,(e=>((0,n.uX)(),(0,n.CE)(n.FK,{key:e.id},[e.changing?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.CE)("li",{key:0,id:"orderLineItem-"+e.id,class:(0,s.C4)([{orderLineItem:!0,"scale-in-center":!e.changing,"scale-out-center":e.changing}])},[(0,n.bF)(l,{order:e,onViewOrderDetails:o.viewOrderDetails,class:(0,s.C4)([{"pulsate-bck":e.updating}])},null,8,["order","onViewOrderDetails","class"])],10,z))],64)))),128))])}]]),Me={"data-filter-group":""},xe=(0,n.Lk)("span",{"data-dropdown-icon":"",class:"material-symbols-outlined"},"expand_more",-1),Re={"data-filter-dropdown":""},$e={name:"FilterGroup",props:{title:{type:String,required:!0}},methods:{openDropdown:function(e){e.target.closest("[data-filter-group]").classList.toggle("active")}},computed:{...(0,S.aH)(P.S,{filters:e=>e.filters})}},Ue=(0,N.A)($e,[["render",function(e,t,r,i,o,l){return(0,n.uX)(),(0,n.CE)("li",Me,[(0,n.Lk)("a",{href:"#","data-filter-dropdown-trigger":"",onClick:t[0]||(t[0]=(0,a.D$)(((...e)=>l.openDropdown&&l.openDropdown(...e)),["prevent"]))},[(0,n.eW)((0,s.v_)(r.title)+" ",1),xe]),(0,n.Lk)("div",Re,[(0,n.RG)(e.$slots,"default")])])}]]),Ne={key:0},qe={class:"control control-radio"},Te=["name","value","checked"],Qe=(0,n.Lk)("div",{class:"control_indicator"},null,-1),Ve={key:1},He={class:"control control-checkbox"},ze=["name","value","checked"],je=(0,n.Lk)("div",{class:"control_indicator"},null,-1),We={name:"Filter",props:{type:{type:String,required:!0},filter:{type:Object,required:!0},filterID:{type:String,required:!0}},methods:{applyFilter:function(e,t,r,n){const s=(0,P.S)();"checkbox"===n?e.target.checked?s.applyFilter(e,t,r):s.removeFilter(e,t,r):s.applyFilter(e,t,r)}},computed:{...(0,S.aH)(P.S,{}),isChecked:function(){return this.filter.checked}}},Ge=(0,N.A)(We,[["render",function(e,t,r,a,i,o){return(0,n.uX)(),(0,n.CE)(n.FK,null,["radio"===r.type?((0,n.uX)(),(0,n.CE)("li",Ne,[(0,n.Lk)("label",qe,[(0,n.eW)((0,s.v_)(r.filter.name)+" ",1),(0,n.Lk)("input",{type:"radio",name:this.filterID,value:r.filter.value,checked:o.isChecked,onChange:t[0]||(t[0]=e=>o.applyFilter(e,this.filter,this.filterID,"radio"))},null,40,Te),Qe])])):(0,n.Q3)("v-if",!0),"checkbox"===r.type?((0,n.uX)(),(0,n.CE)("li",Ve,[(0,n.Lk)("label",He,[(0,n.eW)((0,s.v_)(r.filter.name)+" ",1),(0,n.Lk)("input",{type:"checkbox",name:this.filterID,value:r.filter.value,checked:o.isChecked,onChange:t[1]||(t[1]=e=>o.applyFilter(e,this.filter,this.filterID,"checkbox"))},null,40,ze),je])])):(0,n.Q3)("v-if",!0)],64)}]]),Be={name:"Dashboard",components:{Filters:V,GlobalLoader:T.A,OrdersList:_e,FilterGroup:Ue,Filter:Ge,OrderActions:Fe,NoItems:I.A},data:()=>({userID:null,merchantID:null,locationID:null,flags:{filtersOpen:!1}}),mounted(){const e=(0,P.S)(),t=(0,F.$)();let r=null,n=null,s=null;"user_id"in this.$router.currentRoute.value.params&&(n=this.$router.currentRoute.value.params.user_id,this.userID=n),"merchant_post"in this.$router.currentRoute.value.params&&(r=this.$router.currentRoute.value.params.merchant_post,this.merchantID=r),"location_post"in this.$router.currentRoute.value.params&&(s=this.$router.currentRoute.value.params.location_post,this.locationID=s),e.loadOrdersData(n,r,s),t.loadRestaurantData(this.$router.currentRoute.value.params?.location_post)},computed:{...(0,S.aH)(X.J,{userID:e=>e?.user?.ID}),...(0,S.aH)(F.$,{name:e=>e?.restaurant?.name}),...(0,S.aH)(P.S,{proposed:e=>e.orders?.proposed,reserved:e=>e.orders?.reserved,prepared:e=>e.orders?.prepared,lastUpdatedAt:e=>e.lastUpdatedAt,loaded:e=>e.loaded,disallowed:e=>e.disallowAccess,disallowedMessage:e=>e.message,icon:e=>e.icon})},methods:{viewOrderDetails(e){(0,P.S)().loadOrderData(this.userID,this.merchantID,this.locationID,e.order.id).then((e=>{}))},openFilterPanel(){this.flags.filtersOpen=!this.flags.filtersOpen}}},Ke=(0,N.A)(Be,[["render",function(e,t,r,S,P,X){const F=(0,n.g2)("NoItems"),I=(0,n.g2)("OrdersList"),_=(0,n.g2)("GlobalLoader");return this.loaded&&e.disallowed?((0,n.uX)(),(0,n.CE)("div",i,[(0,n.bF)(F,{icon:this.icon,message:this.disallowedMessage},null,8,["icon","message"])])):((0,n.uX)(),(0,n.CE)("div",o,[(0,n.Lk)("header",l,[(0,n.Lk)("h1",null,[(0,n.eW)((0,s.v_)(e.name)+"    ",1),(0,n.Lk)("small",null,"Last Updated: "+(0,s.v_)(this.lastUpdatedAt),1)]),(0,n.Lk)("div",d,[(0,n.Lk)("a",{href:"",onClick:t[0]||(t[0]=(0,a.D$)((e=>X.openFilterPanel()),["prevent"])),id:"filterPanelTrigger"},c)])]),(0,n.Lk)("div",{class:(0,s.C4)([{filterPanel:!0,filterPanelOpen:this.flags.filtersOpen}])},[(0,n.Lk)("div",null,[(0,n.Lk)("div",u,[p,(0,n.Lk)("div",h,[f,(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.Lk)("a",{href:"",onClick:t[1]||(t[1]=(0,a.D$)((t=>e.setFilter()),["prevent"]))},"Pickup")]),(0,n.Lk)("li",null,[(0,n.Lk)("a",{href:"",onClick:t[2]||(t[2]=(0,a.D$)((t=>e.setFilter()),["prevent"]))},"Delivery")]),(0,n.Lk)("li",null,[(0,n.Lk)("a",{href:"",onClick:t[3]||(t[3]=(0,a.D$)((t=>e.setFilter()),["prevent"]))},"Curbside")])])]),(0,n.Lk)("div",v,[m,(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.Lk)("a",{href:"",onClick:t[4]||(t[4]=(0,a.D$)((t=>e.setFilter()),["prevent"]))})])])]),k])])],2),this.loaded&&!e.disallowed?((0,n.uX)(),(0,n.CE)("div",y,[L,this.loaded?((0,n.uX)(),(0,n.CE)("div",g,[(0,n.Lk)("div",C,[(0,n.Lk)("section",D,[w,this.proposed&&this.proposed.length>0?((0,n.uX)(),(0,n.Wv)(I,{key:0,orders:e.proposed,onViewOrderDetails:X.viewOrderDetails},null,8,["orders","onViewOrderDetails"])):((0,n.uX)(),(0,n.Wv)(F,{key:1,icon:"fastfood",message:"No orders have been placed."}))]),(0,n.Lk)("section",b,[O,this.reserved&&this.reserved.length>0?((0,n.uX)(),(0,n.Wv)(I,{key:0,orders:e.reserved,onViewOrderDetails:X.viewOrderDetails},null,8,["orders","onViewOrderDetails"])):((0,n.uX)(),(0,n.Wv)(F,{key:1,icon:"fastfood",message:"There are no orders being prepared."}))]),(0,n.Lk)("section",E,[A,this.prepared&&this.prepared.length>0?((0,n.uX)(),(0,n.Wv)(I,{key:0,orders:e.prepared,onViewOrderDetails:X.viewOrderDetails},null,8,["orders","onViewOrderDetails"])):((0,n.uX)(),(0,n.Wv)(F,{key:1,icon:"fastfood",message:"There are currently no orders ready for delivery or pickup."}))])])])):(0,n.Q3)("v-if",!0)])):((0,n.uX)(),(0,n.Wv)(_,{key:1}))]))}]])}}]);
//# sourceMappingURL=bundle.542.min.js.map