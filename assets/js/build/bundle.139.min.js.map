{"version":3,"file":"./assets/js/build/bundle.139.min.js","mappings":"kKACOA,MAAM,0B,GADb,MAEqBA,MAAM,e,GACfA,MAAM,6B,GAHlB,MAKwBA,MAAM,kBAM9B,GACEC,KAAM,UACNC,MAAM,CACJC,KAAM,CACJC,KAAMC,OACNC,UAAU,EACVC,QAAS,MAEXC,QAAS,CACPJ,KAAMC,OACNC,UAAU,EACVC,QAAS,MAEXE,OAAQ,CACNL,KAAMC,OACNC,UAAU,EACVC,QAAS,MAEXG,cAAe,CACbN,KAAMC,OACNC,UAAU,EACVC,QAAS,QCvBf,GAFiC,E,OAAA,GAAgB,EAAQ,CAAC,CAAC,S,wCDNzD,QAMM,MANN,EAMM,CALO,EAAI,O,WAAf,QAEM,MAFN,EAEM,EADJ,QAAyD,OAAzD,GAAyD,QAAd,EAAAJ,MAAI,OAHrD,mBAKe,EAAO,U,WAAlB,QAAqE,MAArE,EAAqE,EAA1B,QAAoB,kBAAd,EAAAK,SAAO,OAL5D,mBAMkB,EAAAC,QAAU,EAAAC,gB,WAAxB,QAAgI,UANpI,MAM2CV,MAAM,mBAAoB,QAAK,aAN1E,YAMoFW,EAAAA,MAAMC,KAAKH,SAAM,gB,QAAM,EAAAC,eAAa,KANxH,oB,mEEESV,MAAM,gB,GAIJA,MAAM,gB,GAIRA,MAAM,iBAQf,GACEC,KAAM,QACNC,MAAM,CACJW,QAAS,CACPT,KAAMC,OACNC,UAAU,EACVC,QAAS,KAGbO,KAAI,KACK,CAAC,GAEVZ,MAAO,CAAC,EACRa,SAAU,CAAC,EACXC,QAAS,CAAC,GCzBZ,GAFiC,E,OAAA,GAAgB,EAAQ,CAAC,CAAC,S,wCDJzD,QAYU,WAZDhB,OADX,SACiB,QAAgB,EAAAa,W,EAC7B,QAOM,MAPN,EAOM,EANJ,QAEM,aADJ,QAA2B,sBAE7B,QAEM,MAFN,EAEM,EADJ,QAA2B,wBAG/B,QAEM,MAFN,EAEM,EADJ,QAA4B,uB,2FEV3Bb,MAAM,+B,GAMNA,MAAM,mC,GACAA,MAAM,e,GAEX,QAGM,aAFJ,QAAqB,UAAjB,iBACJ,QAAsE,SAAnE,iE,MAQFA,MAAM,mB,GACN,QAA0B,cAAlB,aAAS,G,GACjB,QAAuB,cAAf,UAAM,G,GAIrB,QAAM,mB,GAEGA,MAAM,uB,GACb,QASS,gBARP,QAMM,aALJ,QAAiC,UAA7B,6BACJ,QAGI,SAHD,+FAKL,QAAW,S,MArCnB,MAuCWA,MAAM,8B,EAvCjB,Y,EAAA,sB,GA+CI,QAAM,mB,GAEGA,MAAM,uB,GACb,QAMS,gBALP,QAGM,aAFJ,QAAoC,UAAhC,gCACJ,QAAsD,SAAnD,sDAEL,QAAW,S,MAvDnB,MAyDWA,MAAM,uB,GAzDjB,MA0DaA,MAAM,0C,oFCvDRA,MAAM,2B,EAHjB,gB,GAWWA,MAAM,mB,IAGL,QAAmD,QAA7CA,MAAM,6BAA4B,QAAI,I,IAK5C,QAAqD,QAA/CA,MAAM,6BAA4B,UAAM,I,GAnB1D,O,GAAA,OAoDA,GACEC,KAAM,WACNgB,WAAY,CACVC,MAAK,KAEPhB,MAAO,CACLiB,UAAU,CACRf,KAAMgB,QACNd,UAAU,GAEZe,GAAG,CACDjB,KAAMC,OACNC,UAAU,GAEZL,KAAK,CACHG,KAAMC,OACNC,UAAU,GAEZF,KAAK,CACHA,KAAMC,OACNC,UAAU,GAEZgB,QAAQ,CACNlB,KAAMC,OACNC,UAAU,GAEZiB,WAAY,CACVnB,KAAMC,OACNC,UAAU,IAGdQ,KAAI,KACK,CAAC,GAEVC,SAAU,KACL,QAASS,EAAA,EAAa,CACvBC,SAAWC,GAAUA,EAAMD,YAG/BT,QAAS,CACPW,gBAAiB,SAAUC,GACzB,IAAIC,EAAM,GAcV,OAZKD,GAAwB,WAAjBA,EAAW,OAAoC,WAAjBA,EAAW,SACnDC,EAAMjB,KAAKa,SAAW,2BAGnBG,GAAwB,UAAjBA,EAAW,OAAmC,UAAjBA,EAAW,SAClDC,EAAMjB,KAAKa,SAAW,+BAGnBG,GAAwB,WAAjBA,EAAW,OAAoC,WAAjBA,EAAW,SACnDC,EAAMjB,KAAKa,SAAW,uBAGjBI,CACT,EACAC,UAAW,SAAUT,GACnB,MAAMU,GAAK,EAAAP,EAAA,KACLQ,GAAK,EAAAC,EAAA,KAIXF,EAAGG,kBAFS,2FAEcC,MAAMC,IAC9B,MAAMC,GAAK,EAAAC,EAAA,KAEPF,IACFJ,EAAGO,aACHR,EAAGD,UAAUT,GAAIc,MAAMK,IACD,MAAhBA,EAAKC,OACPV,EAAGW,iBAAiBP,MAAK,KACvBH,EAAGW,aACHN,EAAGO,WAAWJ,EAAK1B,KAAKN,QAASgC,EAAK1B,KAAK2B,OAAO,IAGpDJ,EAAGO,WAAWJ,EAAKhC,QAAyB,MAAhBgC,EAAKC,OACnC,IAEJ,GAEJ,I,aC/HJ,MAEA,GAFiC,OAAgB,EAAQ,CAAC,CAAC,S,kEDJzD,QAwCQ,GAxCAzC,OADV,QACiB,CAAC,CAAE,mBAAqB,M,CAC1B6C,QAAM,SACf,IAKM,EALN,QAKM,MALN,EAKM,EAJJ,QAEM,YADO,EAAI,O,WAAf,QAAmF,OAL7F,MAK4BC,IAAK,EAAAnB,gBAAgB,CAAEoB,MAAO,EAAA3C,OAAS4C,IAAI,MAAOC,MAAO,EAAA7C,M,OALrF,2BAOQ,QAAqB,oBAAb,EAAAH,MAAI,QAGLQ,QAAM,SACf,IAqBM,EArBN,QAqBM,MArBN,EAqBM,EApBJ,QAIM,aAHJ,QAEI,KAFDyC,KAAK,GAAI,QAAK,aAb3B,iBAa0CC,QAAQC,KAAK,CAAEnD,KAAM,WAAYoD,OAAQ,CAAEhC,GAAI,EAAAA,OAAE,eAb3F,MAiBQ,QAIM,aAHJ,QAEI,KAFD6B,KAAK,GAAI,QAAK,aAlB3B,YAkBqC,EAAApB,UAAU,EAAAT,KAAE,eAlBjD,MAsBQ,QASM,aARJ,QAO+C,QAPxCrB,OAvBjB,S,kDAuBgJ,Y,cAA0C,iB,QAO1K,EAAAmB,UAAY,OAAS,YAAZ,UAIVmC,SAAO,SAChB,IAAuB,EAAvB,QAAuB,kBAAjB,EAAA/B,YAAU,GACP,EAAS,Y,WAAlB,QAEI,IAtCV,EAoC0B,yBACE,QAAG,EAAAD,SAAO,M,WAEhC,QAA+B,IAvCrC,EAuCgB,yBAvChB,K,KDuFA,GACErB,KAAM,UACNgB,WAAY,CACVC,MAAK,IACLqC,QAAO,IACPC,aAAY,IACZC,SAAQ,GAEV3C,KAAI,KACK,CAAC,GAEVC,SAAU,KACL,QAASS,EAAA,EAAa,CACvBkC,UAAYhC,GAAUA,EAAMgC,UAC5BjC,SAAWC,GAAUA,EAAMD,SAC3BkC,SAAWjC,GAAUA,EAAMkC,KAAKD,SAChCE,UAAYnC,GAAUA,EAAMkC,KAAKC,UACjCC,MAAQpC,GAAUA,EAAMkC,KAAKE,MAC7BzC,GAAKK,GAAUA,EAAMkC,KAAKvC,GAC1BZ,OAASiB,GAAUA,EAAMqC,UAAUC,OAAOvD,OAC1CwD,MAAQvC,GAAUA,EAAMqC,UAAUC,OAAOC,MACzCC,UAAYxC,GAAUA,EAAMyC,iBAC5BC,kBAAoB1C,GAAUA,EAAM0C,kBACpCC,OAAS3C,GAAUA,EAAM2C,OACzBC,QAAS5C,GAASA,EAAM6C,WACxBR,UAAYrC,GAAUA,EAAMqC,gBAE3B,QAAS,IAAS,CACnBS,WAAa9C,GAAUA,EAAM8C,aAE/BC,YAAa,WACX,OAA0B,OAAnB7D,KAAKiD,UAAqBjD,KAAKiD,UAAYjD,KAAK+C,QACzD,GAEF,OAAAe,GACE9D,KAAKD,MAAM,kBACb,EACAgE,MAAO,CACL,OAAU,CACRC,QAAS,SAAU9D,GACjB,MAAMuB,GAAK,EAAAC,EAAA,KACLuC,EAAM/D,EAAKgE,SAASC,QAAQ,OAAQ,IACpC1B,EAASzC,KAAKoE,iBAAiBC,mBAAmBJ,IAErDxB,EAAO6B,IAAI,WAAa7B,EAAO6B,IAAI,YACpC7C,EAAGO,WAAWS,EAAO6B,IAAI,WAAY7B,EAAO6B,IAAI,UAEpD,EACAC,WAAW,IAGfjF,MAAO,CAAC,EACRc,QAAS,KACJ,QAAWQ,EAAA,EAAa,CAAC,uBAAwB,sBACpD4D,eAAgB,SAAUjE,GACxB,OAAOA,CACT,EACA6D,iBAAkB,SAAUH,GAE1B,MAAO,CAAEQ,GAAeR,EAAIS,MAAM,KAGlC,OAAO,IAAIC,gBAAgBF,EAC7B,EACAG,eAAgB,SAAUC,GACxB,MAAO,MAAMA,GACf,EACA9D,gBAAiB,SAAUC,GACzB,IAAIC,EAAM,GAcV,OAZKD,GAAwB,WAAjBA,EAAW,OAAoC,WAAjBA,EAAW,SACnDC,EAAMjB,KAAKa,SAAW,2BAGnBG,GAAwB,UAAjBA,EAAW,OAAmC,UAAjBA,EAAW,SAClDC,EAAMjB,KAAKa,SAAW,+BAGnBG,GAAwB,WAAjBA,EAAW,OAAoC,WAAjBA,EAAW,SACnDC,EAAMjB,KAAKa,SAAW,uBAGjBI,CACT,EACA6D,UAAW,WACT,EACFC,eAAgB,SAAUtE,EAAIuE,GAC5B,MAAM7D,GAAK,EAAAP,EAAA,KACLa,GAAK,EAAAC,EAAA,KAEXP,EAAG8D,qBAAqBxE,EAAIuE,GAASzD,MAAMK,IACtB,MAAhBA,EAAKC,QACNV,EAAGW,iBAAiBP,MAAK,KACvBvB,KAAKkF,2BACLzD,EAAGO,WAAW,8BAA8B,EAAK,GAErD,GAEJ,EACAkD,yBAA0B,WACxBlF,KAAKuC,QAAQC,KAAK,aACpB,EACA2C,eAAgB,SAASjC,GAEvB,MAAMhD,EAAO,IAAIkF,SAEjBlF,EAAKmF,OAAO,QAASnC,GACrBhD,EAAKmF,OAAO,SAAUrF,KAAKmD,UAAUmC,SAASzF,QAC9CK,EAAKmF,OAAO,QAASrF,KAAKmD,UAAUmC,SAASjC,OAE7CrD,KAAKuF,kBAAkBrF,GAAMqB,MAAMK,KAEtB,EAAAF,EAAA,KACRM,WAAWJ,EAAK1B,KAAKN,QAASgC,EAAK1B,KAAK2B,OAAO,GAEtD,EACA,mBAAA2D,CAAoBC,GAEfA,EAAOC,cACRC,OAAOC,SAAStD,KAAOmD,EAAOC,eAInB,EAAAhE,EAAA,KACRM,WAAW,iBAAiByD,EAAOpG,8CAA8C,EAExF,IG9MJ,GAFiC,OAAgB,EAAQ,CAAC,CAAC,S,sHHL3D,oBACE,QAIM,MAJN,EAIM,EAHJ,QAEM,aADJ,QAAiC,UAA7B,WAAO,QAAG,EAAAwE,aAAW,QAI7B,QAiEM,MAjEN,EAiEM,EAhEJ,QAgBU,UAhBV,EAgBU,EAfR,QAUS,eATP,GAIA,QAIM,aAHJ,QAES,UAFA,QAAK,eAAE,EAAAsB,eAAenF,KAAKkD,QAAS9D,OAfvD,QAe8D,CAAC,CAAE,6BAA6B,MAAS,yBAKjG,QAGM,MAHN,EAGM,EAFJ,QAAqD,UAAlD,GArBX,QAqBqC,KAAC,aAAQ2D,UAAQ,MAC9C,QAA+C,UAA5C,GAtBX,QAsBkC,KAAC,aAAQG,OAAK,SAI5C,GAEA,QAiBU,UAjBV,EAiBU,CAhBR,EAU8CQ,EAAO,U,WAArD,QAIM,MAJN,EAIM,G,aAHJ,QAEI,WA1CZ,QAwCmCA,EAAAA,SAxCnC,CAwCmB+B,EAAQI,M,WAAnB,QAEI,KAFiCC,IAAKD,EAAKzG,OAxCvD,SAwC6D,YAAoB,EAAAwF,eAAea,EAAOpG,QAAQ,SAxC/G,YAwC8H,EAAAmG,oBAAoBC,IAAM,c,EAC9I,QAA8F,OAAxFvD,IAAK,EAAAnB,gBAAgB,CAAEoB,MAAOsD,EAAOjG,OAAU4C,IAAKqD,EAAOpG,KAAOgD,MAAOoD,EAAOpG,M,OAzChG,I,GAAA,M,sBA4CM,QAAqJ,GA5C3J,MA4CsBE,KAAK,MAAMK,QAAQ,qHAGrC,GAEA,QAqBU,UArBV,EAqBU,CApBR,EAOuC6D,EAAM,S,WAA7C,QAWM,MAXN,EAWM,C,KAV2DH,UAAUyC,OAAS,I,WAAlF,QAQM,MARN,EAQM,G,aAPJ,QAM2C,WAjErD,QA2DoCzC,EAAAA,WAAT0C,K,WAAjB,QAM2C,GANLF,IAAKE,EAAMvF,GACtCF,UAAWyF,EAAMzF,UACjBlB,KAAM2G,EAAM3G,KACZG,KAAMwG,EAAMxG,KACZiB,GAAIuF,EAAMvF,GACVC,QAASsF,EAAMC,WACftF,WAAYqF,EAAMrF,Y,yFAE/B,QAAiK,GAnEzK,MAmEwBpB,KAAK,MAAMK,QAAQ,oI,WAErC,QAAuB,GArE7B,c","sources":["webpack://basicwptheme/./assets/vue/components/NoItems.vue","webpack://basicwptheme/./assets/vue/components/NoItems.vue?a4ec","webpack://basicwptheme/./assets/vue/components/Panel.vue","webpack://basicwptheme/./assets/vue/components/Panel.vue?028b","webpack://basicwptheme/./assets/vue/views/Profile.vue","webpack://basicwptheme/./assets/vue/components/Merchant.vue","webpack://basicwptheme/./assets/vue/components/Merchant.vue?88fd","webpack://basicwptheme/./assets/vue/views/Profile.vue?5c46"],"sourcesContent":["<template>\n  <div class=\"noItemsFound container\">\n    <div v-if=\"icon\" class=\"noItemsIcon\">\n      <span class=\"material-symbols-outlined\">{{ icon }}</span>\n    </div>\n    <div v-if=\"message\" class=\"noItemsMessage\"><p>{{ message }}</p></div>\n    <button v-if=\"action && actionMessage\" class=\"btn btn-tertiary\" @click.prevent=\"$emit(this.action)\">{{ actionMessage }}</button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"NoItems\",\n  props:{\n    icon: {\n      type: String,\n      required: false,\n      default: null\n    },\n    message: {\n      type: String,\n      required: false,\n      default: null\n    },\n    action: {\n      type: String,\n      required: false,\n      default: null\n    },\n    actionMessage: {\n      type: String,\n      required: false,\n      default: null\n    }\n  }  \n};\n</script>\n\n<style lang=\"scss\">\n\n.noItemsFound{\n  text-align:center;\n  color:#ccc;\n  padding:50px 0;\n}\n\n.noItemsIcon{\n\n  span{\n    font-size:50px;\n    font-weight:300;\n  }\n}\n\n.noItemsMessage{\n  max-width:400px;\n  margin: 0 auto;\n\n  p{\n    color:#ccc;\n    margin: 10px 0 21px 0;\n  }\n}\n\n</style>","import { render } from \"./NoItems.vue?vue&type=template&id=ac351006\"\nimport script from \"./NoItems.vue?vue&type=script&lang=js\"\nexport * from \"./NoItems.vue?vue&type=script&lang=js\"\n\nimport \"./NoItems.vue?vue&type=style&index=0&id=ac351006&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <section class=\"panel\" :class=\"classes\">\n    <div class=\"panel-header\">\n      <div>\n        <slot name=\"header\"></slot>\n      </div>\n      <div class=\"panel-action\">\n        <slot name=\"action\"></slot>\n      </div>\n    </div>\n    <div class=\"panel-content\">\n      <slot name=\"content\"></slot>\n    </div>\n  </section>\n</template>\n\n<script>\n\nexport default {\n  name: \"Panel\",\n  props:{\n    classes: {\n      type: String,\n      required: false,\n      default: ''\n    }\n  },\n  data() {\n    return {};\n  },\n  props: {},\n  computed: {},\n  methods: {},\n};\n\n</script>\n\n<style lang=\"scss\" scoped></style>","import { render } from \"./Panel.vue?vue&type=template&id=1e343024\"\nimport script from \"./Panel.vue?vue&type=script&lang=js\"\nexport * from \"./Panel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"container flexed pageHeader\">\n    <div>\n      <h1>Hello, {{ getGreeting }}</h1>\n    </div>\n  </div>\n\n  <div class=\"container pageBody page-profile\">\n    <section class=\"generalInfo\">\n      <header>\n        <div>\n          <h3>General Info</h3>\n          <p>Basic settings, subscription details, &amp; password management</p>\n        </div>\n        <div>\n          <button @click=\"changePassword(this.email)\" :class=\"[{ 'btn btn-small btn-primary': true }]\">\n            Reset Password\n          </button>\n        </div>\n      </header>\n      <div class=\"userAccountData\">\n        <p><strong>Username:</strong> {{ this.username }}</p>\n        <p><strong>Email:</strong> {{ this.email }}</p>\n      </div>\n    </section>\n\n    <hr />\n\n    <section class=\"potentialPOSSystems\">\n      <header>\n        <div>\n          <h3>Connect a new POS System</h3>\n          <p>\n            Connect to one or multiple POS systems to get service charge data for each POS\n            system.\n          </p>\n        </div>\n        <div></div>\n      </header>\n      <div class=\"posSystemChoices alignLeft\" v-if=\"systems\">\n        <a v-for=\"(system, idx) in systems\" :key=\"idx\" class=\"posChoice\" :class=\"posChoiceClass(system.name)\" @click.prevent=\"handleOauthRedirect(system)\" >\n          <img :src=\"getMerchantType({ value: system.type })\" :alt=\"system.name\" :title=\"system.name\" />\n        </a>\n      </div>\n      <NoItems v-else icon=\"dns\" message=\"There are no supported POS Systems supported currently. Please come back when some POS Systems are supported.\" />\n    </section>\n\n    <hr />\n\n    <section class=\"potentialPOSSystems\">\n      <header>\n        <div>\n          <h3>Connected Merchant Accounts</h3>\n          <p>All your currently connected merchant accounts.</p>\n        </div>\n        <div></div>\n      </header>\n      <div class=\"connectedPOSSystems\" v-if=\"loaded\">\n        <div class=\"container flexed authorizedRestaurants\" v-if=\"this.merchants.length > 0\">\n          <Merchant v-for=\"merch in merchants\" :key=\"merch.id\" \n                    :connected=\"merch.connected\" \n                    :name=\"merch.name\"\n                    :type=\"merch.type\"\n                    :id=\"merch.id\"\n                    :expires=\"merch.expires_on\"\n                    :merchantID=\"merch.merchantID\" />\n        </div>\n        <NoItems v-else icon=\"dns\" message=\"There are no connected POS Systems (Merchant Accounts). To connect, please choose an option from list of oAuth providers.\" />\n      </div>\n      <GlobalLoader v-else />\n    </section>\n\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapState } from \"pinia\";\nimport { globalStore } from \"../stores/global.js\";\nimport { noticeStore } from \"../stores/notice.js\";\nimport { loaderStore } from \"../stores/loader.js\";\nimport { scStore } from \"../stores/servicecharge.js\";\n\nimport GlobalLoader from \"../components/GlobalLoader.vue\";\nimport Panel from \"../components/Panel.vue\";\nimport NoItems from \"../components/NoItems.vue\";\nimport Merchant from \"../components/Merchant.vue\";\n\nexport default {\n  name: \"Profile\",\n  components: {\n    Panel,\n    NoItems,\n    GlobalLoader,\n    Merchant\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    ...mapState(globalStore, {\n      logoutURL: (store) => store.logoutURL,\n      imageURL: (store) => store.imageURL,\n      username: (store) => store.user.username,\n      firstName: (store) => store.user.firstName,\n      email: (store) => store.user.email,\n      id: (store) => store.user.id,\n      action: (store) => store.endpoints.logout.action,\n      nonce: (store) => store.endpoints.logout.nonce,\n      merchants: (store) => store.merchantAccounts,\n      currentRestaurant: (store) => store.currentRestaurant,\n      loaded: (store) => store.loaded,\n      systems: store => store.posSystems,\n      endpoints: (store) => store.endpoints\n    }),\n    ...mapState(scStore, {\n      dataLoaded: (store) => store.dataLoaded,\n    }),\n    getGreeting: function () {\n      return this.firstName !== null ? this.firstName : this.username;\n    },\n  },\n  mounted() {\n    this.$emit(\"componentLoaded\");\n  },\n  watch: {\n    '$route': {\n      handler: function (data) {\n        const ns = noticeStore();\n        const uri = data.fullPath.replace('#_=_', '');\n        const params = this.getParamsFromURI(decodeURIComponent(uri));\n\n        if(params.get('status') && params.get('message')){\n          ns.showNotice(params.get('message'), params.get('status'));\n        }\n      },\n      immediate: true\n    }\n  },\n  props: {},\n  methods: {\n    ...mapActions(globalStore, ['setCurrentRestaurant', 'resetUserPassword']),\n    isAPIConnected: function (connected) {\n      return connected;\n    },\n    getParamsFromURI: function (uri) {\n      // Get everything after the `?`\n      const [, paramString] = uri.split('?');\n\n      // Return parameters\n      return new URLSearchParams(paramString);\n    },\n    posChoiceClass: function (label) {\n      return `pos${label}`;\n    },\n    getMerchantType: function (pos) {\n      let img = \"\";\n\n      if ((pos && pos[\"value\"] === \"Square\") || pos[\"value\"] === \"square\") {\n        img = this.imageURL + \"Square_Jewel_Black.svg\";\n      }\n\n      if ((pos && pos[\"value\"] === \"Toast\") || pos[\"value\"] === \"toast\") {\n        img = this.imageURL + \"toast-slice-icon_white.png\";\n      }\n\n      if ((pos && pos[\"value\"] === \"Clover\") || pos[\"value\"] === \"clover\") {\n        img = this.imageURL + \"clover_logo_rgb.png\";\n      }\n\n      return img;\n    },\n    reauthApp: function () \n    { },\n    setPOSAsActive: function (id, user_id) {\n      const gs = globalStore();\n      const ns = noticeStore();\n\n      gs.setCurrentRestaurant(id, user_id).then((resp) => {\n        if(resp.status === 200){\n          gs.loadGlobalData().then(() => {\n            this.handleRestaurantRedirect();\n            ns.showNotice('You are now connected to  ', true);\n          });\n        }\n      });\n    },\n    handleRestaurantRedirect: function () {\n      this.$router.push(\"/dashboard\");\n    },\n    changePassword: function(email) \n    {\n      const data = new FormData();\n\n      data.append('email', email);\n      data.append('action', this.endpoints.password.action);\n      data.append('nonce', this.endpoints.password.nonce);\n\n      this.resetUserPassword(data).then((resp) => {\n        debugger;\n        const ns = noticeStore();\n        ns.showNotice(resp.data.message, resp.data.status);\n      });\n    },\n    handleOauthRedirect(system){\n      // if we have an authorize link, assume this pos system is active and enabled.\n      if(system.authorizeLink){\n        window.location.href = system.authorizeLink;\n      } \n      // otherwise, lets say, \"coming soon!\"\n      else {\n        const ns = noticeStore();\n        ns.showNotice(`Connecting to ${system.name} is coming soon, but not yet possible!`, false);\n      }\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","<template>\n  <Panel :class=\"[{ 'panelConnectedPOS': true }]\">\n    <template #header>\n      <div class=\"panelConnectedPOSHeader\">\n        <div>\n          <img v-if=\"type\" :src=\"getMerchantType({ value: type })\" alt=\"POS\" :title=\"type\" />\n        </div>\n        <div>{{ name }}</div>\n      </div>\n    </template>\n    <template #action>\n      <div class=\"posPanelActions\">\n        <div>\n          <a href=\"\" @click.prevent=\"this.$router.push({ name: 'Merchant', params: { id: id } })\">\n            <span class=\"material-symbols-outlined\">edit</span>\n          </a>\n        </div>\n        <div>\n          <a href=\"\" @click.prevent=\"deletePOS(id)\">\n            <span class=\"material-symbols-outlined\">delete</span>\n          </a>\n        </div>\n        <div>\n          <span :class=\"[\n            {\n              'material-symbols-outlined': true,\n              'wifi': true,\n              'connected': connected,\n              'disconnected': !connected,\n            },\n          ]\">{{ connected ? \"wifi\" : \"wifi_off\" }}</span>\n        </div>\n      </div>\n    </template>\n    <template #content>\n      <p>{{ merchantID }}</p>\n      <p v-if=\"connected\">\n        Connection Expires: {{ expires }}\n      </p>\n      <p v-else>No API Connection</p>\n    </template>\n  </Panel>\n</template>\n\n<script>\nimport { mapState } from \"pinia\";\nimport { globalStore } from \"../stores/global.js\";\nimport { noticeStore } from \"../stores/notice.js\";\nimport { loaderStore } from \"../stores/loader.js\";\n\nimport Panel from \"../components/Panel.vue\";\n\nexport default {\n  name: \"Merchant\",\n  components: {\n    Panel\n  },\n  props: {\n    connected:{\n      type: Boolean,\n      required: true\n    },\n    id:{\n      type: String,\n      required: true\n    },\n    name:{\n      type: String,\n      required: true\n    },\n    type:{\n      type: String,\n      required: true\n    },\n    expires:{\n      type: String,\n      required: true\n    },\n    merchantID: {\n      type: String,\n      required: true\n    },\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    ...mapState(globalStore, {\n      imageURL: (store) => store.imageURL\n    })\n  },\n  methods: {\n    getMerchantType: function (pos) {\n      let img = \"\";\n\n      if ((pos && pos[\"value\"] === \"Square\") || pos[\"value\"] === \"square\") {\n        img = this.imageURL + \"Square_Jewel_Black.svg\";\n      }\n\n      if ((pos && pos[\"value\"] === \"Toast\") || pos[\"value\"] === \"toast\") {\n        img = this.imageURL + \"toast-slice-icon_white.png\";\n      }\n\n      if ((pos && pos[\"value\"] === \"Clover\") || pos[\"value\"] === \"clover\") {\n        img = this.imageURL + \"clover_logo_rgb.png\";\n      }\n\n      return img;\n    },\n    deletePOS: function (id) {\n      const gs = globalStore();\n      const ls = loaderStore();\n\n      const msg = 'Are you sure you want to delete this connected POS system? This change is irreversible.';\n\n      gs.confirmUserAction(msg).then((confirmed) => {\n        const ns = noticeStore();\n\n        if (confirmed) {\n          ls.showLoader();\n          gs.deletePOS(id).then((resp) => {\n            if (resp.status === 200) {\n              gs.loadGlobalData().then(() => {\n                ls.hideLoader();\n                ns.showNotice(resp.data.message, resp.data.status);\n              });\n            } else {\n              ns.showNotice(resp.message, resp.status === 200);\n            }\n          })\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>","import { render } from \"./Merchant.vue?vue&type=template&id=3f2991b4\"\nimport script from \"./Merchant.vue?vue&type=script&lang=js\"\nexport * from \"./Merchant.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Profile.vue?vue&type=template&id=bcd07b94\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","name","props","icon","type","String","required","default","message","action","actionMessage","$emit","this","classes","data","computed","methods","components","Panel","connected","Boolean","id","expires","merchantID","global","imageURL","store","getMerchantType","pos","img","deletePOS","gs","ls","loader","confirmUserAction","then","confirmed","ns","notice","showLoader","resp","status","loadGlobalData","hideLoader","showNotice","header","src","value","alt","title","href","$router","push","params","content","NoItems","GlobalLoader","Merchant","logoutURL","username","user","firstName","email","endpoints","logout","nonce","merchants","merchantAccounts","currentRestaurant","loaded","systems","posSystems","dataLoaded","getGreeting","mounted","watch","handler","uri","fullPath","replace","getParamsFromURI","decodeURIComponent","get","immediate","isAPIConnected","paramString","split","URLSearchParams","posChoiceClass","label","reauthApp","setPOSAsActive","user_id","setCurrentRestaurant","handleRestaurantRedirect","changePassword","FormData","append","password","resetUserPassword","handleOauthRedirect","system","authorizeLink","window","location","idx","key","length","merch","expires_on"],"sourceRoot":""}