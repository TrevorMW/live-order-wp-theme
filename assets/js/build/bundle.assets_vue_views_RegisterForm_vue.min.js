"use strict";
(self["webpackChunkbasicwptheme"] = self["webpackChunkbasicwptheme"] || []).push([["assets_vue_views_RegisterForm_vue"],{

/***/ "./assets/vue/stores/global.js":
/*!*************************************!*\
  !*** ./assets/vue/stores/global.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   globalStore: () => (/* binding */ globalStore)
/* harmony export */ });
/* harmony import */ var pinia__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pinia */ "./node_modules/pinia/dist/pinia.mjs");
/* harmony import */ var Axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! Axios */ "./node_modules/Axios/lib/axios.js");
/* harmony import */ var _stores_notice__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../stores/notice */ "./assets/vue/stores/notice.js");





const globalStore = (0,pinia__WEBPACK_IMPORTED_MODULE_1__.defineStore)('globalStore', {
  state: () => {
    return {
      loaded: false,
      data: null
    }
  },
  actions: {
    loadGlobalData: async function () {
      const url = core.ajaxUrl;
      const data = new FormData();

      data.append('action', core.endpoints.load_global_data.action);
      data.append('nonce', core.endpoints.load_global_data.nonce);

      const resp = await Axios__WEBPACK_IMPORTED_MODULE_2__["default"].post(url, data).then((resp) => {
        if (resp.status === 200 && resp.data) {
          Object.assign(this, resp.data);
          this.loaded = true;
        }

        return resp;
      });

      return resp;
    },
    setCurrentRestaurant: async function (id, user_id) {
      const url = core.ajaxUrl;
      const data = new FormData();

      data.append('action', this.endpoints.set_current_restaurant.action);
      data.append('nonce', this.endpoints.set_current_restaurant.nonce);
      data.append('user_id', user_id);
      data.append('restaurant_id', id);

      const resp = await Axios__WEBPACK_IMPORTED_MODULE_2__["default"].post(url, data);

      return resp;
    },
    unsetCurrentRestaurant: async function (id) {
      const url = core.ajaxUrl;
      const data = new FormData();
    
      data.append('action', this.endpoints.unset_current_restaurant.action);
      data.append('nonce', this.endpoints.unset_current_restaurant.nonce);
      data.append('user_id', id);

      const resp = await Axios__WEBPACK_IMPORTED_MODULE_2__["default"].post(url, data);

      return resp;
    },
    logUserIn: async function(data){
      const ns = (0,_stores_notice__WEBPACK_IMPORTED_MODULE_0__.noticeStore)();

      ns.hideNotice();

      return await Axios__WEBPACK_IMPORTED_MODULE_2__["default"].post(core.ajaxUrl, data).then((resp) => {
        if (resp.status === 200) {
          ns.showNotice(resp.data.message, true);

          if (!resp.data.status) {
            ns.showNotice(resp.data.message, false);
          }
        } else {
          ns.showNotice(resp.data.message, false);
        }

        return resp;
      });
    },
    resetUserPassword: async function(data){
      const ns = (0,_stores_notice__WEBPACK_IMPORTED_MODULE_0__.noticeStore)();

      ns.hideNotice();

      return await Axios__WEBPACK_IMPORTED_MODULE_2__["default"].post(core.ajaxUrl, data).then((resp) => {
        if (resp.status === 200) {
          ns.showNotice(resp.data.message, true);

          if (!resp.data.status) {
            ns.showNotice(resp.data.message, false);
          }
        } else {
          ns.showNotice(resp.data.message, false);
        }

        return resp;
      });
    },
    registerUser: async function(data){
      const ns = (0,_stores_notice__WEBPACK_IMPORTED_MODULE_0__.noticeStore)();

      ns.hideNotice();

      return await Axios__WEBPACK_IMPORTED_MODULE_2__["default"].post(core.ajaxUrl, data).then((resp) => {
        if (resp.status === 200) {
          ns.showNotice(resp.data.message, true);

          if (!resp.data.status) {
            ns.showNotice(resp.data.message, false);
          }
        } else {
          ns.showNotice(resp.data.message, false);
        }

        return resp;
      });
    },
    confirmUserAction: async function(msg){
      return new Promise(function(resolve){
        if(confirm(msg)){
          resolve(1);
        } else {
          resolve(0);
        }
      });
    },
    toggleLoginForm: function () {
      this.showRegisterForm = false;
      this.showPasswordForm = false;
      this.showLoginForm = true;
    },
    toggleRegisterForm: function () {
      this.showPasswordForm = false;
      this.showLoginForm = false;
      this.showRegisterForm = true;
    },
    togglePasswordForm: function () {
      this.showRegisterForm = false;
      this.showLoginForm = false;
      this.showPasswordForm = true;
    },
  }
});


/***/ }),

/***/ "./assets/vue/stores/notice.js":
/*!*************************************!*\
  !*** ./assets/vue/stores/notice.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   noticeStore: () => (/* binding */ noticeStore)
/* harmony export */ });
/* harmony import */ var pinia__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pinia */ "./node_modules/pinia/dist/pinia.mjs");



const noticeStore = (0,pinia__WEBPACK_IMPORTED_MODULE_0__.defineStore)('noticeStore', {
  state: () => {
    return {
      visible: false,
      msg: '',
      status: false
    }
  },
  actions: {
    showNotice: function (msg, status) {
      this.visible = true;
      this.msg = msg;
      this.status = status;

      setTimeout(() => {
        this.hideNotice();
      }, 4000);
    },
    hideNotice: function () {
      this.visible = false;
    }
  }
});

/***/ }),

/***/ "./assets/vue/views/RegisterForm.vue":
/*!*******************************************!*\
  !*** ./assets/vue/views/RegisterForm.vue ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _RegisterForm_vue_vue_type_template_id_307e263f__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RegisterForm.vue?vue&type=template&id=307e263f */ "./assets/vue/views/RegisterForm.vue?vue&type=template&id=307e263f");
/* harmony import */ var _RegisterForm_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RegisterForm.vue?vue&type=script&lang=js */ "./assets/vue/views/RegisterForm.vue?vue&type=script&lang=js");
/* harmony import */ var _node_modules_vue_loader_dist_exportHelper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../node_modules/vue-loader/dist/exportHelper.js */ "./node_modules/vue-loader/dist/exportHelper.js");




;
const __exports__ = /*#__PURE__*/(0,_node_modules_vue_loader_dist_exportHelper_js__WEBPACK_IMPORTED_MODULE_2__["default"])(_RegisterForm_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_1__["default"], [['render',_RegisterForm_vue_vue_type_template_id_307e263f__WEBPACK_IMPORTED_MODULE_0__.render],['__file',"assets/vue/views/RegisterForm.vue"]])
/* hot reload */
if (false) {}


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__exports__);

/***/ }),

/***/ "./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[4].use[0]!./assets/vue/views/RegisterForm.vue?vue&type=script&lang=js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[4].use[0]!./assets/vue/views/RegisterForm.vue?vue&type=script&lang=js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var pinia__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pinia */ "./node_modules/pinia/dist/pinia.mjs");
/* harmony import */ var _stores_global_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../stores/global.js */ "./assets/vue/stores/global.js");
/* harmony import */ var _stores_notice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../stores/notice */ "./assets/vue/stores/notice.js");







/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  name: "LoginForm",
  data() {
    return {
      showLoginForm: true,
      showRegisterForm: false,
      showPasswordForm: false,
    };
  },
  props: {
    active: {
      type: Boolean,
      required: true,
      default: false
    }
  },
  computed: {
    ...(0,pinia__WEBPACK_IMPORTED_MODULE_2__.mapState)(_stores_global_js__WEBPACK_IMPORTED_MODULE_0__.globalStore, {
      register: (store) => {
        return {
          nonce: store.endpoints.register.nonce,
          action: store.endpoints.register.action,
        };
      },
      showLoginForm: store => store.showLoginForm,
      showRegisterForm: store => store.showRegisterForm,
      showPasswordForm: store => store.showPasswordForm,
    })
  },
  methods: {
    ...(0,pinia__WEBPACK_IMPORTED_MODULE_2__.mapActions)(_stores_global_js__WEBPACK_IMPORTED_MODULE_0__.globalStore, ["registerUser", "loadGlobalData", "toggleLoginForm", "toggleRegisterForm", "togglePasswordForm"]),
    registerNewUser: function () {
      const data = new FormData(this.$refs.registerForm);

      this.registerUser(data).then((resp) => {
        const id = resp.data?.data?.id;

        if(resp.data.status && id){
          setTimeout(() => {
            location.reload()
          }, 2000);
        }
      })
    },
  },
});


/***/ }),

/***/ "./assets/vue/views/RegisterForm.vue?vue&type=script&lang=js":
/*!*******************************************************************!*\
  !*** ./assets/vue/views/RegisterForm.vue?vue&type=script&lang=js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _node_modules_vue_loader_dist_index_js_ruleSet_1_rules_4_use_0_RegisterForm_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_dist_index_js_ruleSet_1_rules_4_use_0_RegisterForm_vue_vue_type_script_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[4].use[0]!./RegisterForm.vue?vue&type=script&lang=js */ "./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[4].use[0]!./assets/vue/views/RegisterForm.vue?vue&type=script&lang=js");
 

/***/ }),

/***/ "./assets/vue/views/RegisterForm.vue?vue&type=template&id=307e263f":
/*!*************************************************************************!*\
  !*** ./assets/vue/views/RegisterForm.vue?vue&type=template&id=307e263f ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   render: () => (/* reexport safe */ _node_modules_vue_loader_dist_templateLoader_js_ruleSet_1_rules_1_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_4_use_0_RegisterForm_vue_vue_type_template_id_307e263f__WEBPACK_IMPORTED_MODULE_0__.render)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_dist_templateLoader_js_ruleSet_1_rules_1_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_4_use_0_RegisterForm_vue_vue_type_template_id_307e263f__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[1]!../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[4].use[0]!./RegisterForm.vue?vue&type=template&id=307e263f */ "./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[1]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[4].use[0]!./assets/vue/views/RegisterForm.vue?vue&type=template&id=307e263f");


/***/ }),

/***/ "./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[1]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[4].use[0]!./assets/vue/views/RegisterForm.vue?vue&type=template&id=307e263f":
/*!*******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[1]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[4].use[0]!./assets/vue/views/RegisterForm.vue?vue&type=template&id=307e263f ***!
  \*******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   render: () => (/* binding */ render)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");


const _hoisted_1 = ["value"]
const _hoisted_2 = ["value"]
const _hoisted_3 = /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createStaticVNode)("<div class=\"form-control inlineForm\"><div class=\"field-control half\"><label>First Name: </label><input type=\"text\" value=\"\" name=\"firstName\" placeholder=\"First Name\" tabindex=\"1\" required></div><div class=\"field-control half\"><label>Last Name: </label><input type=\"text\" value=\"\" name=\"lastName\" placeholder=\"Last Name\" tabindex=\"2\" required></div><div class=\"field-control full\"><label>Email: </label><input type=\"email\" value=\"\" name=\"email\" placeholder=\"Email\" tabindex=\"3\" required></div><div class=\"field-control half\"><label>Password: </label><input type=\"password\" value=\"\" name=\"password\" placeholder=\"Password\" required tabindex=\"4\" pattern=\"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?])[A-Za-z\\d@$!%*?]{8,}$\"></div><div class=\"field-control half\"><label>Confirm Password: </label><input type=\"password\" value=\"\" name=\"confirmPass\" placeholder=\"Confirm Password\" required tabindex=\"5\" pattern=\"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?])[A-Za-z\\d@$!%*?]{8,}$\"></div></div><div class=\"submit\"><div><ul class=\"passwordRequirements\"><li>Has minimum 8 characters in length.</li><li>At least one uppercase English letter.</li><li>At least one lowercase English letter.</li><li>At least one digit.</li><li>At least one special character. (#?!*-)</li></ul></div><button type=\"submit\" class=\"btn btn-primary\">Register</button></div>", 2)

function render(_ctx, _cache, $props, $setup, $data, $options) {
  return ($props.active)
    ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)("div", {
        key: 0,
        class: (0,vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)([{ registerForm: true, isActive: $props.active }])
      }, [
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("form", {
          onSubmit: _cache[0] || (_cache[0] = (0,vue__WEBPACK_IMPORTED_MODULE_0__.withModifiers)((...args) => ($options.registerNewUser && $options.registerNewUser(...args)), ["prevent"])),
          ref: "registerForm",
          validate: ""
        }, [
          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("input", {
            type: "hidden",
            value: _ctx.register.nonce,
            name: "nonce"
          }, null, 8 /* PROPS */, _hoisted_1),
          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("input", {
            type: "hidden",
            value: _ctx.register.action,
            name: "action"
          }, null, 8 /* PROPS */, _hoisted_2),
          _hoisted_3
        ], 544 /* NEED_HYDRATION, NEED_PATCH */)
      ], 2 /* CLASS */))
    : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)("v-if", true)
}

/***/ })

}]);
//# sourceMappingURL=bundle.assets_vue_views_RegisterForm_vue.min.js.map